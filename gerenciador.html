<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gere4nciador de Listas IPTV</title>
</head>
<body>
    <h1>Gerenciador de Listas IPTV</h1>
    <button onclick="gerarArquivoM3U()">Gerar Arquivo M3U</button>

    <script>
        function gerarArquivoM3U() {
            var urls = [
                "https://iptv-org.github.io/iptv/countries/br.m3u",
                "https://iptv-org.github.io/iptv/subdivisions/br-sc.m3u",
                "https://iptv-org.github.io/iptv/categories/music.m3u",
                "https://raw.githubusercontent.com/listadobill/tv/main/plutotv.m3u",
                "https://raw.githubusercontent.com/listadobill/tv/main/canaisabertosefechados-1.m3u",
                "https://raw.githubusercontent.com/listadobill/tv/main/tsm3u8.m3u8"
            ];

            var m3uContent = "#EXTM3U\n\n";

            function getChannels(url) {
                var xhr = new XMLHttpRequest();
                xhr.open("GET", url, false);
                xhr.onreadystatechange = function () {
                    if (xhr.readyState === 4 && xhr.status === 200) {
                        m3uContent += xhr.responseText + "\n\n";
                    }
                };
                xhr.send();
            }

            for (var i = 0; i < urls.length; i++) {
                getChannels(urls[i]);
            }

            var blob = new Blob([m3uContent], { type: 'text/plain' });
            var link = document.createElement('a');
            link.href = window.URL.createObjectURL(blob);
            link.download = 'todos_os_canais.m3u';
            link.click();
        }
    </script>
</body>
</html>
