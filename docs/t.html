<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TV DO BILL - IPTV</title>
    <link href="https://vjs.zencdn.net/7.11.4/video-js.css" rel="stylesheet" />
    <style>
        body {
            background-image: url('https://images4.alphacoders.com/103/1030100.jpg');
            background-size: cover;
            background-position: center;
            color: #fff;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            overflow: hidden; /* Oculta rolagens indesejadas */
        }

        #container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center; /* Centraliza o conteúdo */
            width: 100vw;
            height: 100vh; /* Ocupa toda a altura da tela */
            background-color: rgba(0, 0, 0, 0.6); /* Fundo semitransparente */
            position: relative; /* Para permitir o posicionamento absoluto do cabeçalho */
        }

        #header {
            position: absolute; /* Fixa o cabeçalho no topo */
            top: 0;
            width: 100%;
            padding: 10px;
            background-color: rgba(0, 0, 0, 0.8); /* Fundo do cabeçalho */
            text-align: center; /* Centraliza o texto */
            z-index: 10; /* Coloca o cabeçalho acima do resto */
        }

        #grid-container {
            display: grid;
            grid-template-columns: repeat(8, 1fr); /* 8 colunas */
            grid-template-rows: repeat(5, 1fr); /* 5 linhas */
            width: 100%; /* Ocupa toda a largura disponível */
            height: calc(100% - 200px); /* Ajusta a altura para evitar sobreposição com o cabeçalho */
            position: relative; /* Para controlar o posicionamento */
            gap: 10px; /* Aumenta o espaço entre os canais */
            padding: 20px; /* Preenchimento interno para os canais */
            margin-top: 80px; /* Aumenta a margem superior para evitar sobreposição */
            margin-bottom: 60px; /* Aumenta a margem inferior */
        }

        .channel-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #00a859; /* Verde */
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5); /* Sombra para destacar os canais */
        }

        .channel-item img {
            width: 70%; /* Aumenta a largura da imagem */
            height: auto; /* Mantém a proporção da imagem */
            border-radius: 5px;
        }

        .channel-item span {
            margin-top: 10px; /* Aumenta a margem superior do texto */
            font-size: 16px; /* Aumenta o tamanho do texto */
            text-align: center;
            color: #fff200; /* Amarelo */
        }

        .channel-item:hover {
            background-color: #00743f; /* Verde mais escuro */
        }

        /* Estilo das setas */
        .arrow {
            background-color: rgba(255, 255, 255, 0.8);
            color: black;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 20px;
            cursor: pointer;
            margin: 10px;
            transition: background-color 0.3s;
        }

        .arrow:hover {
            background-color: rgba(200, 200, 200, 0.8);
        }

        /* Estilo para o contêiner das setas */
        .arrow-container {
            display: flex;
            justify-content: space-between;
            width: 100%; /* Ocupa toda a largura da tela */
            position: absolute; /* Para posicionar as setas no topo da tela */
            bottom: 20px; /* Posiciona as setas na parte inferior da tela */
            transform: translateY(-50%); /* Ajusta o deslocamento */
        }

        #video-container {
            width: 80vw;
            display: none;
            margin-top: 20px;
        }

        .video-js {
            width: 100%;
            height: 100%;
        }

        /* Estilos dos botões de navegação */
        .nav-button {
            margin: 0 5px;
            padding: 10px 15px;
            background-color: #007BFF; /* Azul */
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .nav-button:hover {
            background-color: #0056b3; /* Azul mais escuro */
        }

        #home-button {
            margin: 0 5px;
            padding: 10px 15px;
            background-color: #28A745; /* Verde */
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #home-button:hover {
            background-color: #218838; /* Verde mais escuro */
        }
    </style>
</head>
<body>
    <div id="container">
        <!-- Cabeçalho com links e botões de acesso -->
        <div id="header">
            SERVIDOR 1 - DESATIVE CONEXÃO SEGURA - Lista de canais para o KODI ou Apps de IPTV - Atualização, 29 de Setembro de 2024:
            <br>
            <a href="https://bit.ly/tvdobill-iptv" target="_blank">https://bit.ly/tvdobill-iptv</a>
            <br>
            EPG: <a href="https://bit.ly/tvdobill-epg" target="_blank">https://bit.ly/tvdobill-epg</a>
            <div>
                <button id="home-button">CANAIS, SÉRIES E FILMES STREAM</button>
                <button class="nav-button" onclick="window.location.href='https://listadobill.github.io/tv/'">SERVIDOR 1</button>
                <button class="nav-button" onclick="window.location.href='https://listadobill.github.io/tv/iptv2'">SERVIDOR 2</button>
                <button class="nav-button" onclick="window.location.href='https://listadobill.github.io/tv/ott'">SERVIDOR 3</button>
                <button class="nav-button" onclick="window.location.href='https://listadobill.github.io/tv/argentina'">ARGENTINA</button>
                <button class="nav-button" onclick="window.location.href='https://listadobill.github.io/tv/brasil'">BRASIL</button>
                <button class="nav-button" onclick="window.location.href='https://listadobill.github.io/tv/carros'">CARROS</button>
                <button class="nav-button" onclick="window.location.href='https://listadobill.github.io/tv/espanha'">ESPANHA</button>
                <button class="nav-button" onclick="window.location.href='https://listadobill.github.io/tv/musica'">MÚSICA</button>
                <button class="nav-button" onclick="window.location.href='https://listadobill.github.io/tv/portugal'">PORTUGAL</button>
            </div>
        </div>

        <!-- Grade de Canais -->
        <div id="grid-container">
            <!-- Canais gerados dinamicamente -->
        </div>

        <!-- Setas de Navegação -->
        <div class="arrow-container">
            <button class="arrow" id="prevBtn">&#10094;</button>
            <button class="arrow" id="nextBtn">&#10095;</button>
        </div>

        <!-- Player de Vídeo -->
        <div id="video-container">
            <video id="videoPlayer" class="video-js vjs-default-skin" controls preload="auto">
                <source src="" type="application/x-mpegURL" id="videoSource">
                Seu navegador não suporta a reprodução deste vídeo.
            </video>
        </div>
    </div>

    <!-- Incluindo a biblioteca Video.js -->
    <script src="https://vjs.zencdn.net/7.11.4/video.js"></script>
    <script>
        // URL da lista M3U
        const m3uUrl = 'https://raw.githubusercontent.com/listadobill/tv/refs/heads/main/listas/iptv.m3u';

        // Referências ao player e à grade de canais
        const videoPlayer = videojs('videoPlayer');
        const gridContainer = document.getElementById('grid-container');
        const videoContainer = document.getElementById('video-container');
        let currentPage = 0;

        // Função para carregar a lista de canais
        async function loadChannels() {
            const response = await fetch(m3uUrl);
            const text = await response.text();
            const lines = text.split('\n');

            let channelHtml = '';
            for (let i = 0; i < lines.length; i++) {
                if (lines[i].startsWith('#EXTINF')) {
                    const channelInfo = lines[i].split(',');
                    const channelName = channelInfo[1];
                    const channelUrl = lines[i + 1];

                    channelHtml += `
                        <div class="channel-item" onclick="playChannel('${channelUrl}')">
                            <img src="https://via.placeholder.com/80" alt="${channelName}">
                            <span>${channelName}</span>
                        </div>`;
                }
            }
            gridContainer.innerHTML = channelHtml;
        }

        // Função para reproduzir um canal
        function playChannel(url) {
            videoPlayer.src({ type: 'application/x-mpegURL', src: url });
            videoPlayer.play();
            videoContainer.style.display = 'block'; // Exibe o player
        }

        // Função para navegar nos canais
        function navigateChannels(direction) {
            const channels = document.querySelectorAll('.channel-item');
            const totalPages = Math.ceil(channels.length / 40); // 40 canais por página

            if (direction === 'next') {
                currentPage = (currentPage + 1) % totalPages;
            } else if (direction === 'prev') {
                currentPage = (currentPage - 1 + totalPages) % totalPages;
            }

            const start = currentPage * 40;
            const end = start + 40;
            channels.forEach((channel, index) => {
                channel.style.display = (index >= start && index < end) ? 'flex' : 'none';
            });
        }

        // Eventos de clique nas setas
        document.getElementById('nextBtn').addEventListener('click', () => navigateChannels('next'));
        document.getElementById('prevBtn').addEventListener('click', () => navigateChannels('prev'));

        // Carrega os canais na inicialização
        loadChannels();
    </script>
</body>
</html>
